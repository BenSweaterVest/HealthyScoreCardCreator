<!DOCTYPE html>
<html>
<head>
    <title>Health Scorecard Creator</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 600px; margin: 20px auto; padding: 20px; }
        input { width: 100%; padding: 8px; margin: 5px 0; box-sizing: border-box; }
        .goal { margin: 15px 0; padding: 15px; border: 1px solid #ccc; background: #f9f9f9; border-radius: 6px; }
        .row { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin-top: 10px; }
        button { padding: 12px 24px; margin: 10px 5px; background: #007bff; color: white; border: none; cursor: pointer; border-radius: 4px; font-weight: bold; }
        button:hover { background: #0056b3; }
        label { font-weight: bold; margin-bottom: 5px; display: block; }
        h4 { margin-bottom: 10px; color: #495057; }
        .success { color: #28a745; font-weight: bold; text-align: center; margin: 10px 0; }
    </style>
</head>
<body>
    <h1>Health Scorecard Creator</h1>
    <p>Create custom 5-goal health scorecards with 0-2 point scoring</p>
    
    <label>Scorecard Title:</label>
    <input type="text" id="title" value="Weekly Health Goals Grading Rubric">
    
    <div class="goal">
        <h4>Goal 1</h4>
        <label>Goal Title:</label>
        <input type="text" id="g1" value="Solid Breakfast">
        <label>Target Description:</label>
        <input type="text" id="d1" value="(5x weekly breakfasts with Protein & Fiber before 10am)">
        <label>Scoring Descriptions:</label>
        <div class="row">
            <input type="text" id="s12" placeholder="Score 2" value="5 days">
            <input type="text" id="s11" placeholder="Score 1" value="3-4 days">
            <input type="text" id="s10" placeholder="Score 0" value="Less than 3 days">
        </div>
    </div>
    
    <div class="goal">
        <h4>Goal 2</h4>
        <label>Goal Title:</label>
        <input type="text" id="g2" value="Strength Training">
        <label>Target Description:</label>
        <input type="text" id="d2" value="(3 workouts per week)">
        <label>Scoring Descriptions:</label>
        <div class="row">
            <input type="text" id="s22" placeholder="Score 2" value="3+ workouts completed">
            <input type="text" id="s21" placeholder="Score 1" value="1-2 workouts completed">
            <input type="text" id="s20" placeholder="Score 0" value="0 workouts completed">
        </div>
    </div>
    
    <div class="goal">
        <h4>Goal 3</h4>
        <label>Goal Title:</label>
        <input type="text" id="g3" value="Cardio Goals">
        <label>Target Description:</label>
        <input type="text" id="d3" value="(2x weekly)">
        <label>Scoring Descriptions:</label>
        <div class="row">
            <input type="text" id="s32" placeholder="Score 2" value="2+ sessions completed">
            <input type="text" id="s31" placeholder="Score 1" value="1 session completed">
            <input type="text" id="s30" placeholder="Score 0" value="0 sessions completed">
        </div>
    </div>
    
    <div class="goal">
        <h4>Goal 4</h4>
        <label>Goal Title:</label>
        <input type="text" id="g4" value="Meal Logging">
        <label>Target Description:</label>
        <input type="text" id="d4" value="(all meals have photos and correct descriptions in app)">
        <label>Scoring Descriptions:</label>
        <div class="row">
            <input type="text" id="s42" placeholder="Score 2" value="7 days complete">
            <input type="text" id="s41" placeholder="Score 1" value="4-6 days complete">
            <input type="text" id="s40" placeholder="Score 0" value="Less than 4 days">
        </div>
    </div>
    
    <div class="goal">
        <h4>Goal 5</h4>
        <label>Goal Title:</label>
        <input type="text" id="g5" value="Quality Healthy Choices">
        <label>Target Description:</label>
        <input type="text" id="d5" value="(consistently good choices)">
        <label>Scoring Descriptions:</label>
        <div class="row">
            <input type="text" id="s52" placeholder="Score 2" value="Consistently good choices">
            <input type="text" id="s51" placeholder="Score 1" value="Some good choices, room for improvement">
            <input type="text" id="s50" placeholder="Score 0" value="Poor choices most days">
        </div>
    </div>
    
    <div style="text-align: center; margin-top: 30px;">
        <button onclick="downloadScorecard()">Download index.html</button>
    </div>
    
    <div id="message" class="success" style="display: none;"></div>
    
    <script>
        function buildHTML(title) {
            // Only put the generated HTML for the scorecard, NOT the downloadScorecard code!
            let html = `<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>${title}</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{font-family:Arial,sans-serif;max-width:800px;margin:0 auto;padding:20px;background:#f5f7fa;line-height:1.6}
h1{text-align:center;color:#2c3e50;margin-bottom:30px;font-size:2.2em}
.goal-section{margin-bottom:25px;padding:20px;border:2px solid #e9ecef;border-radius:8px;background:white}
.goal-title{font-size:1.3em;font-weight:bold;color:#495057;margin-bottom:10px}
.goal-target{color:#6c757d;font-style:italic;margin-bottom:15px}
.scoring-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-bottom:15px}
.score-value{font-weight:bold;font-size:1.1em}
.score-description{font-size:0.9em;margin-top:5px}
.current-score{text-align:center;font-weight:bold;color:#007bff;margin-top:10px;font-size:1.1em}
.total-section{background:#e8f5e8;padding:20px;border-radius:8px;text-align:center;margin:30px 0}
.total-score{font-size:2em;font-weight:bold;color:#28a745}
label{display:block;margin-bottom:5px;font-weight:bold;color:#495057}
.footer{text-align:center;margin-top:40px;padding-top:20px;border-top:1px solid #dee2e6;color:#6c757d}
.footer a{color:#007bff;text-decoration:none}
.footer a:hover{text-decoration:underline}
</style>
</head>
<body>
<h1>${title}</h1>
`;

            for (let i = 1; i <= 5; i++) {
                let goalTitle = document.getElementById('g' + i).value || 'Goal ' + i;
                let goalDesc = document.getElementById('d' + i).value || 'Description';
                let score2 = document.getElementById('s' + i + '2').value || 'Excellent';
                let score1 = document.getElementById('s' + i + '1').value || 'Good';
                let score0 = document.getElementById('s' + i + '0').value || 'Poor';
                
                html += `
<div class="goal-section">
<div class="goal-title">${goalTitle}</div>
<div class="goal-target">${goalDesc}</div>
<div class="scoring-grid">
<div>
<div class="score-value">SCORE 2</div>
<div class="score-description">${score2}</div>
</div>
<div>
<div class="score-value">SCORE 1</div>
<div class="score-description">${score1}</div>
</div>
<div>
<div class="score-value">SCORE 0</div>
<div class="score-description">${score0}</div>
</div>
</div>
</div>
`;
            }
            html += `
<div class="footer">
<p>Open source project â€¢ <a href="https://github.com/BenSweaterVest/HealthyScoreCard">View on GitHub</a></p>
</div>
</body>
</html>
`;
            return html;
        }

        function downloadScorecard() {
            var title = document.getElementById('title').value || 'Weekly Health Goals';
            var content = buildHTML(title);
            var blob = new Blob([content], {type: 'text/html'});
            var url = URL.createObjectURL(blob);
            var a = document.createElement('a');
            a.href = url;
            a.download = 'index.html';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);

            var msg = document.getElementById('message');
            msg.textContent = 'Downloaded: ' + title;
            msg.style.display = 'block';
            setTimeout(function() { msg.style.display = 'none'; }, 3000);
        }
    </script>
</body>
</html>
